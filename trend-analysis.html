<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®è¶‹åŠ¿åˆ†æ - å«æ˜Ÿä»»åŠ¡æ•°æ®åˆ†æå¹³å°</title>
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">

    <!-- ğŸš€ æ€§èƒ½ä¼˜åŒ–ï¼šé¢„è§£æAPIå’ŒWebSocketæœåŠ¡å™¨ï¼Œå‡å°‘é¦–æ¬¡è¯·æ±‚å»¶è¿Ÿ -->
    <link rel="dns-prefetch" href="https://records-bsjjdmpsel.cn-hangzhou.fcapp.run">
    <link rel="preconnect" href="https://records-bsjjdmpsel.cn-hangzhou.fcapp.run">
    <link rel="dns-prefetch" href="https://ws.nxjyx.com.cn">
    <link rel="preconnect" href="https://ws.nxjyx.com.cn">

    <!-- ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ - æ”¯æŒæ·±è‰²/æµ…è‰²æ¨¡å¼ + å¤šå½©ä¸»é¢˜åˆ‡æ¢ -->
    <link rel="stylesheet" href="./public/css/themes.css">

    <!-- æœ¬åœ°èµ„æº - æç®€SVGæ–¹æ¡ˆ -->
    <!-- æœ¬åœ°Tailwind CSS -->
    <link rel="stylesheet" href="./public/css/output.css">
    <!-- æœ¬åœ°å›¾æ ‡ç³»ç»Ÿ -->
    <link rel="stylesheet" href="./public/css/icons.css">

    <!-- é…ç½®æ–‡ä»¶ - å¿…é¡»æœ€å…ˆåŠ è½½ -->
    <script src="./public/js/config.js"></script>

    <!-- å›¾è¡¨åº“ - ç§»é™¤deferç¡®ä¿é¡ºåºåŠ è½½ -->
    <script src="./public/lib/chart.min.js"></script>
    <script src="./public/lib/chartjs-plugin-datalabels.min.js"></script>
    <!-- æ³¨å†Œdatalabelsæ’ä»¶ -->
    <script>
        // ç¡®ä¿datalabelsæ’ä»¶æ­£ç¡®æ³¨å†Œ
        if (typeof Chart !== 'undefined' && typeof ChartDataLabels !== 'undefined') {
            Chart.register(ChartDataLabels);
            console.log('âœ… Chart.js datalabelsæ’ä»¶å·²æ³¨å†Œ');
        } else {
            console.error('âŒ Chart.jsæˆ–datalabelsæ’ä»¶æœªæ­£ç¡®åŠ è½½');
        }
    </script>

    <style>
        /* ========== ç­›é€‰æ¡†å®¹å™¨ ========== */
        .dropdown-container {
            position: relative;
            width: 100%;
        }

        /* ========== ç­›é€‰æ¡†ä¸»ä½“ï¼ˆç»Ÿä¸€é«˜åº¦38pxï¼‰ ========== */
        .filter-select {
            width: 100%;
            min-height: 38px;
            padding: 6px 12px;
            border: 1px solid rgb(var(--border-color));
            border-radius: 6px;
            background: rgb(var(--bg-card));
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-select:hover {
            border-color: rgb(var(--color-primary));
            box-shadow: 0 0 0 3px rgba(var(--color-primary), 0.1);
        }

        .filter-select.dropdown-open {
            border-color: rgb(var(--color-primary));
            box-shadow: 0 0 0 3px rgba(var(--color-primary), 0.1);
        }

        /* å·¦ä¾§æ ‡ç­¾åŒºï¼ˆflex-1è‡ªåŠ¨å æ®å‰©ä½™ç©ºé—´ï¼‰ */
        .selected-tags-inline {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 6px;
            overflow: hidden;
            min-width: 0;
        }

        /* å ä½ç¬¦ */
        .selected-tags-inline .placeholder {
            color: rgb(var(--text-tertiary));
            font-size: 14px;
        }

        /* å·²é€‰æ ‡ç­¾ï¼ˆä»…ç¬¬ä¸€ä¸ªï¼‰ */
        .selected-tag-inline {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            background: rgba(var(--color-primary), 0.1);
            color: rgb(var(--color-primary));
            border-radius: 12px;
            font-size: 12px;
            white-space: nowrap;
            max-width: 120px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .selected-tag-inline .tag-remove {
            cursor: pointer;
            font-size: 14px;
            line-height: 1;
            padding: 0 2px;
            flex-shrink: 0;
        }

        .selected-tag-inline .tag-remove:hover {
            color: rgb(var(--color-danger, 239, 68, 68));
        }

        /* +N æ•°å­— */
        .more-count {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 2px 6px;
            background: rgba(var(--color-primary), 0.15);
            color: rgb(var(--color-primary));
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
        }

        /* æœç´¢æ¡†ï¼ˆå±•å¼€æ—¶æ˜¾ç¤ºï¼‰ */
        .filter-search-inline {
            display: none;
            flex: 0 0 140px;
            position: relative;
        }

        .filter-select.dropdown-open .filter-search-inline {
            display: block;
        }

        .filter-search-inline input {
            width: 100%;
            padding: 4px 8px 4px 24px;
            border: 1px solid rgb(var(--border-color));
            border-radius: 4px;
            font-size: 12px;
            background: rgb(var(--bg-base));
            color: rgb(var(--text-primary));
            outline: none;
        }

        .filter-search-inline input:focus {
            border-color: rgb(var(--color-primary));
        }

        .filter-search-inline .search-icon {
            position: absolute;
            left: 6px;
            top: 50%;
            transform: translateY(-50%);
            width: 14px;
            height: 14px;
            color: rgb(var(--text-tertiary));
            pointer-events: none;
        }

        /* ä¸‹æ‹‰ç®­å¤´ */
        .dropdown-arrow {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
            color: rgb(var(--text-secondary));
            transition: transform 0.2s;
        }

        .filter-select.dropdown-open .dropdown-arrow {
            transform: rotate(180deg);
        }

        /* ========== ä¸‹æ‹‰é¢æ¿ï¼ˆå¡ç‰‡å¼ï¼‰ ========== */
        .dropdown-content {
            position: absolute;
            z-index: 1000;
            width: 100%;
            min-width: 200px;
            margin-top: 4px;
            background: rgb(var(--bg-card));
            border: 1px solid rgb(var(--border-color));
            border-radius: 8px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            max-height: 320px;
            display: flex;
            flex-direction: column;
        }

        /* é€‰é¡¹åˆ—è¡¨å®¹å™¨ */
        .dropdown-options-list {
            flex: 1;
            overflow-y: auto;
            padding: 4px;
        }

        /* é€‰é¡¹é¡¹ï¼ˆç´§å‡‘ + æŸ”å’Œæ‚¬åœï¼‰ */
        .dropdown-option-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.15s ease;
            font-size: 13px;
            color: rgb(var(--text-primary));
        }

        .dropdown-option-item:hover {
            background: rgba(var(--color-primary), 0.06);
        }

        .dropdown-option-item.selected {
            background: rgba(var(--color-primary), 0.12);
        }

        /* å¤é€‰æ¡† */
        .dropdown-option-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            cursor: pointer;
            flex-shrink: 0;
            accent-color: rgb(var(--color-primary));
        }

        /* å…¨é€‰åº•éƒ¨ */
        .dropdown-footer {
            border-top: 1px solid rgb(var(--border-color));
            padding: 6px 8px;
            background: rgba(var(--bg-base), 0.5);
        }

        .select-all-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            color: rgb(var(--text-primary));
            transition: background 0.15s ease;
        }

        .select-all-item:hover {
            background: rgba(var(--color-primary), 0.06);
        }

        .select-all-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: rgb(var(--color-primary));
        }

        /* æ—§æ ·å¼å…¼å®¹ */
        .tab-item {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tab-item-active {
            background-color: rgb(var(--color-primary));
            color: white;
        }
        .tab-item-inactive {
            background-color: rgba(var(--text-tertiary), 0.1);
            color: rgb(var(--text-primary));
        }
        .tab-item-inactive:hover {
            background-color: rgba(var(--text-tertiary), 0.15);
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ï¼ˆç”¨äº tooltipï¼‰ */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(74, 222, 128, 0.5);
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(74, 222, 128, 0.7);
        }

        /* è‡ªå®šä¹‰å›¾ä¾‹å®¹å™¨æ ·å¼ */
        .chart-legend-container {
            width: 140px;
            min-width: 140px;
            max-height: 100%;
            overflow-y: auto;
            padding: 8px 12px;
            margin-left: 12px;
            border-left: 1px solid rgb(var(--border-color));
            scrollbar-width: thin;
            scrollbar-color: rgba(var(--color-primary), 0.5) rgba(var(--border-color), 0.3);
        }
        .chart-legend-container::-webkit-scrollbar {
            width: 6px;
        }
        .chart-legend-container::-webkit-scrollbar-track {
            background: rgba(var(--border-color), 0.3);
            border-radius: 3px;
        }
        .chart-legend-container::-webkit-scrollbar-thumb {
            background: rgba(var(--color-primary), 0.5);
            border-radius: 3px;
        }
        .chart-legend-container::-webkit-scrollbar-thumb:hover {
            background: rgba(var(--color-primary), 0.7);
        }
        .chart-legend-item {
            display: flex;
            align-items: center;
            padding: 4px 0;
            cursor: pointer;
            font-size: 11px;
            transition: opacity 0.2s;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .chart-legend-item:hover {
            opacity: 0.8;
        }
        .chart-legend-item.hidden {
            opacity: 0.4;
            text-decoration: line-through;
        }
        .chart-legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            margin-right: 8px;
            flex-shrink: 0;
        }
        .chart-legend-label {
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
</head>
<body style="background-color: rgb(var(--bg-primary)); min-height: 100vh; color: rgb(var(--text-primary)); transition: all 0.3s;">
    <!-- SVGå›¾æ ‡åº“ - å¼‚æ­¥åŠ è½½ä¸é˜»å¡æ¸²æŸ“ -->
    <div style="display:none" id="svg-sprite-container"></div>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="bg-card border-b border-default">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <svg class="icon icon-xl text-primary"><use href="#icon-line-chart"/></svg>
                <h1 class="text-xl font-bold text-primary">å«æ˜Ÿä»»åŠ¡æ•°æ®åˆ†æå¹³å°</h1>
            </div>

            <nav class="hidden md:flex items-center space-x-6">
                <a href="index.html" class="text-gray-600 hover:text-primary transition-colors px-1 py-5">é¦–é¡µ</a>
                <a href="trend-analysis.html" class="text-primary font-medium border-b-2 border-primary px-1 py-5">æ•°æ®è¶‹åŠ¿åˆ†æ</a>
                <a href="data-distribution.html" class="text-gray-600 hover:text-primary transition-colors px-1 py-5">æ•°æ®åˆ†å¸ƒ</a>
                <a href="circle-warning.html" class="text-gray-600 hover:text-primary transition-colors px-1 py-5">æ•°æ®é¢„è­¦</a>
            </nav>

            <button class="md:hidden text-gray-600 hover:text-primary" id="mobileMenuBtn">
                <svg class="icon icon-xl"><use href="#icon-bars"/></svg>
            </button>
        </div>

        <div class="md:hidden hidden bg-white border-t border-gray-200" id="mobileMenu">
            <div class="container mx-auto px-4 py-2">
                <a href="index.html" class="block py-3 text-gray-600 hover:text-primary">é¦–é¡µ</a>
                <a href="trend-analysis.html" class="block py-3 text-primary font-medium">æ•°æ®è¶‹åŠ¿åˆ†æ</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-6">
        <h2 class="text-xl font-bold mb-6 text-gray-800">æ•°æ®è¶‹åŠ¿åˆ†æ</h2>

        <!-- åŠ è½½çŠ¶æ€ -->
        <div id="loadingAlert" class="mb-6 p-3 bg-primary/10 text-primary rounded-lg flex items-center hidden">
            <svg class="icon icon-spin mr-2"><use href="#icon-spinner"/></svg>
            <span id="loadingMessage">æ­£åœ¨åŠ è½½æ•°æ®...</span>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="errorAlert" class="bg-danger/10 text-danger p-4 rounded-lg mb-6 hidden">
            <svg class="icon mr-2"><use href="#icon-exclamation-circle"/></svg>
            <span id="errorMessage">æ“ä½œå¤±è´¥</span>
        </div>

        <!-- ç­›é€‰æ¡ä»¶åŒºåŸŸ -->
        <section id="filterSection" class="mb-8 bg-card rounded-lg p-6 card-shadow">
            <h3 class="text-lg font-semibold mb-4">ç­›é€‰æ¡ä»¶</h3>

            <!-- æ—¶é—´èŒƒå›´å’Œå‘¨æœŸè®¾ç½® -->
            <div class="grid grid-cols-5 gap-4 mb-6 pb-6 border-b border-gray-100">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ç»Ÿè®¡å¼€å§‹æ—¥æœŸ</label>
                    <input type="date" id="startDate" class="filter-select">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ç»Ÿè®¡ç»“æŸæ—¥æœŸ</label>
                    <input type="date" id="endDate" class="filter-select">
                </div>
                <div>
                    <div class="flex items-center justify-between mb-1">
                        <label class="block text-sm font-medium text-gray-700">ç»Ÿè®¡å‘¨æœŸ</label>
                        <button id="configGroupingBtn" class="text-gray-500 hover:text-primary transition-colors p-1" title="é…ç½®å‘¨æœŸè§„åˆ™">
                            <svg class="inline-block" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                                <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                            </svg>
                        </button>
                    </div>
                    <select id="groupBy" class="filter-select">
                        <option value="day">æŒ‰æ—¥</option>
                        <option value="week">æŒ‰å‘¨</option>
                        <option value="month">æŒ‰æœˆ</option>
                        <option value="quarter">æŒ‰å­£åº¦</option>
                    </select>
                </div>
                <div class="flex items-end">
                    <button id="resetFilters" class="w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors">
                        é‡ç½®ç­›é€‰
                    </button>
                </div>
                <div class="flex items-end">
                    <button id="applyFilters" class="w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">
                        åº”ç”¨ç­›é€‰å¹¶ç”Ÿæˆå›¾è¡¨
                    </button>
                </div>
            </div>

            <!-- å¤šæ¡ä»¶ç­›é€‰åŒºåŸŸ -->
            <div class="grid grid-cols-5 gap-4 mb-4">
                <!-- æµ‹ç«™åç§°ç­›é€‰ -->
                <div class="dropdown-container">
                    <label class="block text-sm font-medium text-gray-700 mb-1">æµ‹ç«™åç§° <span class="text-xs text-gray-500">(å¯å¤šé€‰)</span></label>
                    <div class="filter-select cursor-pointer" id="stationDropdown">
                        <div class="selected-tags-inline" id="stationTags">
                            <span class="placeholder" id="stationDisplay" data-placeholder="è¯·é€‰æ‹©æµ‹ç«™">è¯·é€‰æ‹©æµ‹ç«™</span>
                        </div>
                        <div class="filter-search-inline">
                            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <input type="text" placeholder="æœç´¢..." id="stationSearch">
                        </div>
                        <svg class="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                    <div class="dropdown-content hidden" id="stationOptions">
                        <div class="dropdown-options-list"></div>
                        <div class="dropdown-footer">
                            <div class="select-all-item" id="selectAllStations">
                                <input type="checkbox"><span>å…¨é€‰</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="stationValue" value="">
                </div>

                <!-- å®¢æˆ·åç§°ç­›é€‰ -->
                <div class="dropdown-container">
                    <label class="block text-sm font-medium text-gray-700 mb-1">å®¢æˆ·åç§° <span class="text-xs text-gray-500">(å¯å¤šé€‰)</span></label>
                    <div class="filter-select cursor-pointer" id="customerDropdown">
                        <div class="selected-tags-inline" id="customerTags">
                            <span class="placeholder" id="customerDisplay" data-placeholder="è¯·é€‰æ‹©å®¢æˆ·">è¯·é€‰æ‹©å®¢æˆ·</span>
                        </div>
                        <div class="filter-search-inline">
                            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <input type="text" placeholder="æœç´¢..." id="customerSearch">
                        </div>
                        <svg class="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                    <div class="dropdown-content hidden" id="customerOptions">
                        <div class="dropdown-options-list"></div>
                        <div class="dropdown-footer">
                            <div class="select-all-item" id="selectAllCustomers">
                                <input type="checkbox"><span>å…¨é€‰</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="customerValue" value="">
                </div>

                <!-- å«æ˜Ÿåç§°ç­›é€‰ -->
                <div class="dropdown-container">
                    <label class="block text-sm font-medium text-gray-700 mb-1">å«æ˜Ÿåç§° <span class="text-xs text-gray-500">(å¯å¤šé€‰)</span></label>
                    <div class="filter-select cursor-pointer" id="satelliteDropdown">
                        <div class="selected-tags-inline" id="satelliteTags">
                            <span class="placeholder" id="satelliteDisplay" data-placeholder="è¯·é€‰æ‹©å«æ˜Ÿ">è¯·é€‰æ‹©å«æ˜Ÿ</span>
                        </div>
                        <div class="filter-search-inline">
                            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <input type="text" placeholder="æœç´¢..." id="satelliteSearch">
                        </div>
                        <svg class="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                    <div class="dropdown-content hidden" id="satelliteOptions">
                        <div class="dropdown-options-list"></div>
                        <div class="dropdown-footer">
                            <div class="select-all-item" id="selectAllSatellites">
                                <input type="checkbox"><span>å…¨é€‰</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="satelliteValue" value="">
                </div>

                <!-- ä»»åŠ¡ç±»å‹ç­›é€‰ -->
                <div class="dropdown-container">
                    <label class="block text-sm font-medium text-gray-700 mb-1">ä»»åŠ¡ç±»å‹ <span class="text-xs text-gray-500">(å¯å¤šé€‰)</span></label>
                    <div class="filter-select cursor-pointer" id="typeDropdown">
                        <div class="selected-tags-inline" id="typeTags">
                            <span class="placeholder" id="typeDisplay" data-placeholder="è¯·é€‰æ‹©ä»»åŠ¡ç±»å‹">è¯·é€‰æ‹©ä»»åŠ¡ç±»å‹</span>
                        </div>
                        <div class="filter-search-inline">
                            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <input type="text" placeholder="æœç´¢..." id="typeSearch">
                        </div>
                        <svg class="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                    <div class="dropdown-content hidden" id="typeOptions">
                        <div class="dropdown-options-list"></div>
                        <div class="dropdown-footer">
                            <div class="select-all-item" id="selectAllTypes">
                                <input type="checkbox"><span>å…¨é€‰</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="typeValue" value="">
                </div>

                <!-- ä»»åŠ¡ç»“æœçŠ¶æ€ç­›é€‰ -->
                <div class="dropdown-container">
                    <label class="block text-sm font-medium text-gray-700 mb-1">ä»»åŠ¡ç»“æœçŠ¶æ€ <span class="text-xs text-gray-500">(å¯å¤šé€‰)</span></label>
                    <div class="filter-select cursor-pointer" id="statusDropdown">
                        <div class="selected-tags-inline" id="statusTags">
                            <span class="placeholder" id="statusDisplay" data-placeholder="è¯·é€‰æ‹©ä»»åŠ¡çŠ¶æ€">è¯·é€‰æ‹©ä»»åŠ¡çŠ¶æ€</span>
                        </div>
                        <div class="filter-search-inline">
                            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <input type="text" placeholder="æœç´¢..." id="statusSearch">
                        </div>
                        <svg class="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                    <div class="dropdown-content hidden" id="statusOptions">
                        <div class="dropdown-options-list"></div>
                        <div class="dropdown-footer">
                            <div class="select-all-item" id="selectAllStatuses">
                                <input type="checkbox"><span>å…¨é€‰</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="statusValue" value="">
                </div>
                    <div class="dropdown-content hidden" id="statusOptions">
                        <div class="p-2 border-b border-gray-100">
                            <input type="text" placeholder="æœç´¢çŠ¶æ€..." class="w-full p-1 text-sm border border-gray-200 rounded" id="statusSearch">
                        </div>
                        <div class="select-all-item" id="selectAllStatuses">
                            <svg class="icon mr-2"><use href="#icon-check-square-o"/></svg>å…¨é€‰
                        </div>
                    </div>
                    <input type="hidden" id="statusValue" value="">
                </div>
            </div>
        </section>

        <!-- å›¾è¡¨å±•ç¤ºåŒºåŸŸ -->
        <section id="chartsSection" class="space-y-8 hidden">
            <!-- æµ‹ç«™è¶‹åŠ¿å›¾ -->
            <div class="bg-card rounded-lg p-6 card-shadow">
                <h3 class="text-lg font-semibold mb-4 flex items-center justify-between">
                    <span>æµ‹ç«™åç§°è¶‹åŠ¿åˆ†æ</span>
                    <div class="flex items-center gap-3">
                        <div class="dropdown-container relative" style="min-width: 160px;">
                            <div class="filter-select cursor-pointer" id="stationChartDropdown" style="font-size: 13px;">
                                <div class="selected-tags-inline" id="stationChartTags">
                                    <span class="placeholder" id="stationChartDisplay" data-placeholder="è¯·é€‰æ‹©æµ‹ç«™">è¯·é€‰æ‹©æµ‹ç«™</span>
                                </div>
                                <div class="filter-search-inline">
                                    <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                                    <input type="text" placeholder="æœç´¢..." id="stationChartSearch">
                                </div>
                                <svg class="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                            </div>
                            <div class="dropdown-content hidden" id="stationChartOptions">
                                <div class="dropdown-options-list"></div>
                                <div class="dropdown-footer">
                                    <div class="select-all-item" id="selectAllStationChart">
                                        <input type="checkbox"><span>å…¨é€‰</span>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="stationChartValue" value="">
                        </div>

                        <button id="resetStationChart" class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition" title="é‡ç½®å½“å‰å›¾è¡¨ç­›é€‰">
                            <svg class="icon"><use href="#icon-refresh"/></svg>
                        </button>

                        <div class="h-4 w-px bg-gray-300"></div>

                        <label class="flex items-center px-2 py-1 bg-secondary/10 text-secondary rounded cursor-pointer hover:bg-secondary/20 transition">
                            <input type="checkbox" id="showStationLabels" class="mr-2 w-4 h-4">
                            <span class="text-sm font-medium">æ˜¾ç¤ºæ•°æ®æ ‡ç­¾</span>
                        </label>
                        <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                data-chart="stationChart" data-type="image">
                            <svg class="icon mr-1"><use href="#icon-download"/></svg>ä¸‹è½½å›¾è¡¨
                        </button>
                        <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                data-chart="stationChart" data-type="csv">
                            <svg class="icon mr-1"><use href="#icon-table"/></svg>ä¸‹è½½æ•°æ®
                        </button>
                    </div>
                </h3>

                <div class="h-96 border border-default rounded-lg p-4 relative flex">
                    <div class="flex-1 relative min-w-0">
                        <canvas id="stationChart"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center text-gray-500 hidden" id="stationChartEmpty">
                            <div class="text-center">
                                <svg class="icon icon-2xl mb-2"><use href="#icon-line-chart"/></svg>
                                <p>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p>
                            </div>
                        </div>
                    </div>
                    <div id="stationChartLegend" class="chart-legend-container"></div>
                </div>
            </div>

            <!-- å®¢æˆ·è¶‹åŠ¿å›¾ -->
            <div class="bg-card rounded-lg p-6 card-shadow">
                <h3 class="text-lg font-semibold mb-4 flex items-center justify-between">
                    <span>å®¢æˆ·åç§°è¶‹åŠ¿åˆ†æ</span>
                    <div class="flex items-center gap-4">
                        <div class="dropdown-container relative" style="min-width: 160px;">
                            <div class="flex items-center justify-between filter-select cursor-pointer text-sm" id="customerChartDropdown">
                                <span id="customerChartDisplay" class="truncate" style="max-width: 120px;">è¯·é€‰æ‹©å®¢æˆ·</span>
                                <svg class="icon icon-sm ml-2"><use href="#icon-chevron-down"/></svg>
                            </div>
                            <div class="selected-tags" id="customerChartTags"></div>
                            <div class="dropdown-content hidden absolute top-full left-0 z-50" id="customerChartOptions" style="min-width: 200px;">
                                <div class="p-2 border-b border-gray-100">
                                    <input type="text" placeholder="æœç´¢å®¢æˆ·..." class="w-full p-1 text-sm border border-gray-200 rounded" id="customerChartSearch">
                                </div>
                                <div class="select-all-item" id="selectAllCustomerChart">
                                    <svg class="icon mr-2"><use href="#icon-check-square-o"/></svg>å…¨é€‰
                                </div>
                            </div>
                            <input type="hidden" id="customerChartValue" value="">
                        </div>

                        <button id="resetCustomerChart" class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition">
                            <svg class="icon mr-1"><use href="#icon-refresh"/></svg>é‡ç½®ç­›é€‰
                        </button>

                        <div class="w-px h-6 bg-gray-300"></div>

                        <div class="flex gap-2">
                            <label class="flex items-center px-2 py-1 bg-secondary/10 text-secondary rounded cursor-pointer hover:bg-secondary/20 transition">
                                <input type="checkbox" id="showCustomerLabels" class="mr-2 w-4 h-4">
                                <span class="text-sm font-medium">æ˜¾ç¤ºæ•°æ®æ ‡ç­¾</span>
                            </label>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="customerChart" data-type="image">
                                <svg class="icon mr-1"><use href="#icon-download"/></svg>ä¸‹è½½å›¾è¡¨
                            </button>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="customerChart" data-type="csv">
                                <svg class="icon mr-1"><use href="#icon-table"/></svg>ä¸‹è½½æ•°æ®
                            </button>
                        </div>
                    </div>
                </h3>

                <div class="h-96 border border-default rounded-lg p-4 relative flex">
                    <div class="flex-1 relative min-w-0">
                        <canvas id="customerChart"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center text-gray-500 hidden" id="customerChartEmpty">
                            <div class="text-center">
                                <svg class="icon icon-2xl mb-2"><use href="#icon-line-chart"/></svg>
                                <p>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p>
                            </div>
                        </div>
                    </div>
                    <div id="customerChartLegend" class="chart-legend-container"></div>
                </div>
            </div>

            <!-- å«æ˜Ÿè¶‹åŠ¿å›¾ -->
            <div class="bg-card rounded-lg p-6 card-shadow">
                <h3 class="text-lg font-semibold mb-4 flex items-center justify-between">
                    <span>å«æ˜Ÿåç§°è¶‹åŠ¿åˆ†æ</span>
                    <div class="flex items-center gap-4">
                        <div class="dropdown-container relative" style="min-width: 160px;">
                            <div class="flex items-center justify-between filter-select cursor-pointer text-sm" id="satelliteChartDropdown">
                                <span id="satelliteChartDisplay" class="truncate" style="max-width: 120px;">è¯·é€‰æ‹©å«æ˜Ÿåç§°</span>
                                <svg class="icon icon-sm ml-2"><use href="#icon-chevron-down"/></svg>
                            </div>
                            <div class="selected-tags" id="satelliteChartTags"></div>
                            <div class="dropdown-content hidden absolute top-full left-0 z-50" id="satelliteChartOptions" style="min-width: 200px;">
                                <div class="p-2">
                                    <input type="text" placeholder="æœç´¢å«æ˜Ÿ..." class="w-full px-3 py-1 border border-gray-300 rounded text-sm" id="satelliteChartSearch">
                                </div>
                                <div class="select-all-item" id="selectAllSatelliteChart">
                                    <svg class="icon mr-2"><use href="#icon-check-square-o"/></svg>å…¨é€‰
                                </div>
                            </div>
                            <input type="hidden" id="satelliteChartValue" value="">
                        </div>

                        <button id="resetSatelliteChart" class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition">
                            <svg class="icon mr-1"><use href="#icon-refresh"/></svg>é‡ç½®ç­›é€‰
                        </button>

                        <div class="w-px h-6 bg-gray-300"></div>

                        <div class="flex gap-2">
                            <label class="flex items-center px-2 py-1 bg-secondary/10 text-secondary rounded cursor-pointer hover:bg-secondary/20 transition">
                                <input type="checkbox" id="showSatelliteLabels" class="mr-2 w-4 h-4">
                                <span class="text-sm font-medium">æ˜¾ç¤ºæ•°æ®æ ‡ç­¾</span>
                            </label>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="satelliteChart" data-type="image">
                                <svg class="icon mr-1"><use href="#icon-download"/></svg>ä¸‹è½½å›¾è¡¨
                            </button>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="satelliteChart" data-type="csv">
                                <svg class="icon mr-1"><use href="#icon-table"/></svg>ä¸‹è½½æ•°æ®
                            </button>
                        </div>
                    </div>
                </h3>

                <div class="h-96 border border-default rounded-lg p-4 relative flex">
                    <div class="flex-1 relative min-w-0">
                        <canvas id="satelliteChart"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center text-gray-500 hidden" id="satelliteChartEmpty">
                            <div class="text-center">
                                <svg class="icon icon-2xl mb-2"><use href="#icon-line-chart"/></svg>
                                <p>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p>
                            </div>
                        </div>
                    </div>
                    <div id="satelliteChartLegend" class="chart-legend-container"></div>
                </div>
            </div>

            <!-- ä»»åŠ¡ç±»å‹è¶‹åŠ¿å›¾ -->
            <div class="bg-card rounded-lg p-6 card-shadow">
                <h3 class="text-lg font-semibold mb-4 flex items-center justify-between">
                    <span>ä»»åŠ¡ç±»å‹è¶‹åŠ¿åˆ†æ</span>
                    <div class="flex items-center gap-4">
                        <div class="dropdown-container relative" style="min-width: 160px;">
                            <div class="flex items-center justify-between filter-select cursor-pointer text-sm" id="typeChartDropdown">
                                <span id="typeChartDisplay" class="truncate" style="max-width: 120px;">è¯·é€‰æ‹©ä»»åŠ¡ç±»å‹</span>
                                <svg class="icon icon-sm ml-2"><use href="#icon-chevron-down"/></svg>
                            </div>
                            <div class="selected-tags" id="typeChartTags"></div>
                            <div class="dropdown-content hidden absolute top-full left-0 z-50" id="typeChartOptions" style="min-width: 200px;">
                                <div class="p-2">
                                    <input type="text" placeholder="æœç´¢ç±»å‹..." class="w-full px-3 py-1 border border-gray-300 rounded text-sm" id="typeChartSearch">
                                </div>
                                <div class="select-all-item" id="selectAllTypeChart">
                                    <svg class="icon mr-2"><use href="#icon-check-square-o"/></svg>å…¨é€‰
                                </div>
                            </div>
                            <input type="hidden" id="typeChartValue" value="">
                        </div>

                        <button id="resetTypeChart" class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition">
                            <svg class="icon mr-1"><use href="#icon-refresh"/></svg>é‡ç½®ç­›é€‰
                        </button>

                        <div class="w-px h-6 bg-gray-300"></div>

                        <div class="flex gap-2">
                            <label class="flex items-center px-2 py-1 bg-secondary/10 text-secondary rounded cursor-pointer hover:bg-secondary/20 transition">
                                <input type="checkbox" id="showTypeLabels" class="mr-2 w-4 h-4">
                                <span class="text-sm font-medium">æ˜¾ç¤ºæ•°æ®æ ‡ç­¾</span>
                            </label>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="typeChart" data-type="image">
                                <svg class="icon mr-1"><use href="#icon-download"/></svg>ä¸‹è½½å›¾è¡¨
                            </button>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="typeChart" data-type="csv">
                                <svg class="icon mr-1"><use href="#icon-table"/></svg>ä¸‹è½½æ•°æ®
                            </button>
                        </div>
                    </div>
                </h3>

                <div class="h-96 border border-default rounded-lg p-4 relative flex">
                    <div class="flex-1 relative min-w-0">
                        <canvas id="typeChart"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center text-gray-500 hidden" id="typeChartEmpty">
                            <div class="text-center">
                                <svg class="icon icon-2xl mb-2"><use href="#icon-line-chart"/></svg>
                                <p>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p>
                            </div>
                        </div>
                    </div>
                    <div id="typeChartLegend" class="chart-legend-container"></div>
                </div>
            </div>

            <!-- ä»»åŠ¡çŠ¶æ€è¶‹åŠ¿å›¾ -->
            <div class="bg-card rounded-lg p-6 card-shadow">
                <h3 class="text-lg font-semibold mb-4 flex items-center justify-between">
                    <span>ä»»åŠ¡ç»“æœçŠ¶æ€è¶‹åŠ¿åˆ†æ</span>
                    <div class="flex items-center gap-4">
                        <div class="dropdown-container relative" style="min-width: 160px;">
                            <div class="flex items-center justify-between filter-select cursor-pointer text-sm" id="statusChartDropdown">
                                <span id="statusChartDisplay" class="truncate" style="max-width: 120px;">è¯·é€‰æ‹©ä»»åŠ¡çŠ¶æ€</span>
                                <svg class="icon icon-sm ml-2"><use href="#icon-chevron-down"/></svg>
                            </div>
                            <div class="selected-tags" id="statusChartTags"></div>
                            <div class="dropdown-content hidden absolute top-full left-0 z-50" id="statusChartOptions" style="min-width: 200px;">
                                <div class="p-2">
                                    <input type="text" placeholder="æœç´¢çŠ¶æ€..." class="w-full px-3 py-1 border border-gray-300 rounded text-sm" id="statusChartSearch">
                                </div>
                                <div class="select-all-item" id="selectAllStatusChart">
                                    <svg class="icon mr-2"><use href="#icon-check-square-o"/></svg>å…¨é€‰
                                </div>
                            </div>
                            <input type="hidden" id="statusChartValue" value="">
                        </div>

                        <button id="resetStatusChart" class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition">
                            <svg class="icon mr-1"><use href="#icon-refresh"/></svg>é‡ç½®ç­›é€‰
                        </button>

                        <div class="w-px h-6 bg-gray-300"></div>

                        <div class="flex gap-2">
                            <label class="flex items-center px-2 py-1 bg-secondary/10 text-secondary rounded cursor-pointer hover:bg-secondary/20 transition">
                                <input type="checkbox" id="showStatusLabels" class="mr-2 w-4 h-4">
                                <span class="text-sm font-medium">æ˜¾ç¤ºæ•°æ®æ ‡ç­¾</span>
                            </label>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="statusChart" data-type="image">
                                <svg class="icon mr-1"><use href="#icon-download"/></svg>ä¸‹è½½å›¾è¡¨
                            </button>
                            <button class="chart-download-btn px-2 py-1 bg-primary/10 text-primary rounded hover:bg-primary/20 transition"
                                    data-chart="statusChart" data-type="csv">
                                <svg class="icon mr-1"><use href="#icon-table"/></svg>ä¸‹è½½æ•°æ®
                            </button>
                        </div>
                    </div>
                </h3>

                <div class="h-96 border border-default rounded-lg p-4 relative flex">
                    <div class="flex-1 relative min-w-0">
                        <canvas id="statusChart"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center text-gray-500 hidden" id="statusChartEmpty">
                            <div class="text-center">
                                <svg class="icon icon-2xl mb-2"><use href="#icon-line-chart"/></svg>
                                <p>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p>
                            </div>
                        </div>
                    </div>
                    <div id="statusChartLegend" class="chart-legend-container"></div>
                </div>
            </div>
        </section>
    </main>

    <!-- å‘¨æœŸè§„åˆ™é…ç½®æ¨¡æ€æ¡† -->
    <div id="groupingConfigModal" class="fixed inset-0 bg-black/50 modal-backdrop flex items-center justify-center z-50 hidden">
        <div class="bg-card rounded-lg w-full max-w-md p-6 transform transition-all scale-95 opacity-0" id="modalContent">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">å‘¨æœŸè§„åˆ™é…ç½®ï¼ˆæ‰€æœ‰æ—¶é—´å‡ä¸ºæ–‡ä»¶æ—¶é—´ï¼‰</h3>
                <button id="closeConfigModal" class="transition-colors" style="color: rgb(var(--text-secondary));"
                        onmouseover="this.style.color='rgb(var(--text-primary))'"
                        onmouseout="this.style.color='rgb(var(--text-secondary))'">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <div class="mb-6 pb-4 border-b border-gray-100">
                <h4 class="font-medium mb-3">æŒ‰æ—¥å‘¨æœŸ</h4>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">å‘¨æœŸèµ·å§‹æ—¶é—´</label>
                        <input type="time" id="dayStart" class="w-full p-2 border border-gray-300 rounded-md" value="00:00">
                    </div>
                    <div>
                        <p class="block text-sm text-gray-600 mb-1">å‘¨æœŸèŒƒå›´</p>
                        <div class="p-2 border border-gray-200 rounded-md bg-gray-50 text-sm">
                            Xæ—¥ <span id="dayStartDisplay">00:00</span> è‡³ X+1æ—¥ <span id="dayEndDisplay">00:00</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-6 pb-4 border-b border-gray-100">
                <h4 class="font-medium mb-3">æŒ‰å‘¨å‘¨æœŸ</h4>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">å‘¨èµ·å§‹æ—¥</label>
                        <select id="weekStartDay" class="w-full p-2 border border-gray-300 rounded-md">
                            <option value="0">å‘¨æ—¥</option>
                            <option value="1" selected>å‘¨ä¸€</option>
                            <option value="2">å‘¨äºŒ</option>
                            <option value="3">å‘¨ä¸‰</option>
                            <option value="4">å‘¨å››</option>
                            <option value="5">å‘¨äº”</option>
                            <option value="6">å‘¨å…­</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">èµ·å§‹æ—¶é—´</label>
                        <input type="time" id="weekStartTime" class="w-full p-2 border border-gray-300 rounded-md" value="00:00">
                    </div>
                </div>
            </div>

            <div class="mb-6 pb-4 border-b border-gray-100">
                <h4 class="font-medium mb-3">æŒ‰æœˆå‘¨æœŸ</h4>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">æœˆèµ·å§‹æ—¥æœŸ</label>
                        <input type="number" id="monthStartDate" min="1" max="31" class="w-full p-2 border border-gray-300 rounded-md" value="1">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">èµ·å§‹æ—¶é—´</label>
                        <input type="time" id="monthStartTime" class="w-full p-2 border border-gray-300 rounded-md" value="00:00">
                    </div>
                </div>
            </div>

            <div class="mb-6">
                <h4 class="font-medium mb-3">æŒ‰å­£åº¦å‘¨æœŸ</h4>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">å­£åº¦èµ·å§‹æœˆä»½</label>
                        <select id="quarterStartMonth" class="w-full p-2 border border-gray-300 rounded-md">
                            <option value="1">1æœˆï¼ˆQ1:1-3æœˆï¼‰</option>
                            <option value="4">4æœˆï¼ˆQ2:4-6æœˆï¼‰</option>
                            <option value="7">7æœˆï¼ˆQ3:7-9æœˆï¼‰</option>
                            <option value="10">10æœˆï¼ˆQ4:10-12æœˆï¼‰</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-gray-600 mb-1">èµ·å§‹æ—¶é—´</label>
                        <input type="time" id="quarterStartTime" class="w-full p-2 border border-gray-300 rounded-md" value="00:00">
                    </div>
                </div>
            </div>

            <button id="saveGroupingConfig" class="w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">
                ä¿å­˜é…ç½®
            </button>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="./public/js/websocket-manager.js" defer></script>
    <script src="./public/js/multi-select-dropdown.js" defer></script>
    <script src="./public/js/trend-utils.js" defer></script>
    <script src="./public/js/theme-manager.js" defer></script>
    <script src="./public/js/trend-analysis-app.js" defer></script>
</body>
</html>
