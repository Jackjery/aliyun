<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卫星任务数据分析平台</title>
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">

    <!-- 主题系统 -->
    <link rel="stylesheet" href="./public/css/themes.css">
    <link rel="stylesheet" href="./public/css/output.css">
    <link rel="stylesheet" href="./public/css/icons.css">
    <!-- SPA 页面样式 -->
    <link rel="stylesheet" href="./public/css/spa.css">
</head>
<body style="background-color: rgb(var(--bg-primary)); min-height: 100vh; margin: 0; padding: 0;">

    <!-- 顶部导航栏 -->
    <header class="bg-card border-b border-default" style="height: 50px;">
        <div class="container mx-auto px-4 h-full flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <svg class="icon icon-xl text-primary" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"/>
                </svg>
                <h1 class="text-xl font-bold text-primary">卫星任务数据分析平台</h1>
            </div>

            <!-- 导航菜单 -->
            <nav class="hidden md:flex items-center space-x-6">
                <a class="nav-link active px-1 py-2" data-page="dashboard">首页</a>
                <a class="nav-link px-1 py-2" data-page="trend">数据趋势分析</a>
                <a class="nav-link px-1 py-2" data-page="deep-analysis">深度分析</a>
                <a class="nav-link px-1 py-2" data-page="distribution">数据分布统计</a>
                <a class="nav-link px-1 py-2" data-page="warning">圈次数据预警</a>
                <a class="nav-link px-1 py-2" data-page="admin">
                    <svg class="icon mr-1 inline-block" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                    </svg>
                    数据管理
                </a>
            </nav>

            <!-- 移动端菜单按钮 -->
            <button class="md:hidden text-gray-600 hover:text-primary">
                <svg class="icon icon-xl" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- iframe 容器 -->
    <div class="iframe-container">
        <!-- 骨架屏 -->
        <div id="iframe-skeleton">
            <div class="container mx-auto px-4 py-6 h-full overflow-auto">
                <!-- 头部骨架 -->
                <div class="flex justify-between items-center mb-6">
                    <div class="h-8 w-48 skeleton-box"></div>
                    <div class="h-10 w-32 skeleton-box"></div>
                </div>

                <!-- 统计卡片骨架 -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                    <div class="bg-card p-4 rounded shadow h-24">
                        <div class="h-4 w-20 skeleton-box mb-2"></div>
                        <div class="h-8 w-16 skeleton-box"></div>
                    </div>
                    <div class="bg-card p-4 rounded shadow h-24">
                        <div class="h-4 w-20 skeleton-box mb-2"></div>
                        <div class="h-8 w-16 skeleton-box"></div>
                    </div>
                    <div class="bg-card p-4 rounded shadow h-24">
                        <div class="h-4 w-20 skeleton-box mb-2"></div>
                        <div class="h-8 w-16 skeleton-box"></div>
                    </div>
                    <div class="bg-card p-4 rounded shadow h-24">
                        <div class="h-4 w-20 skeleton-box mb-2"></div>
                        <div class="h-8 w-16 skeleton-box"></div>
                    </div>
                </div>

                <!-- 主要内容区骨架 -->
                <div class="bg-card p-6 rounded shadow mb-6">
                    <div class="h-6 w-32 skeleton-box mb-4"></div>
                    <div class="h-80 skeleton-box"></div>
                </div>

                <!-- 加载提示 -->
                <div class="text-center">
                    <div class="inline-flex items-center" style="color: rgb(var(--color-primary));">
                        <svg class="animate-spin h-5 w-5 mr-2" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <span class="font-medium">正在加载页面...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 首页 iframe -->
        <iframe id="frame-dashboard" class="page-frame active" src="pages/dashboard.html"></iframe>

        <!-- 趋势分析 iframe -->
        <iframe id="frame-trend" class="page-frame" data-src="pages/trend-analysis.html"></iframe>

        <!-- 深度分析 iframe -->
        <iframe id="frame-deep-analysis" class="page-frame" data-src="pages/deep-analysis.html"></iframe>

        <!-- 数据分布统计 iframe -->
        <iframe id="frame-distribution" class="page-frame" data-src="pages/data-distribution.html"></iframe>

        <!-- 圈次数据预警 iframe -->
        <iframe id="frame-warning" class="page-frame" data-src="pages/circle-warning.html"></iframe>

        <!-- 数据管理 iframe -->
        <iframe id="frame-admin" class="page-frame" data-src="pages/admin.html"></iframe>
    </div>

    <!-- 核心脚本 - 主题管理器和状态管理器 -->
    <script src="./public/js/common/config.js"></script>
    <script src="./public/js/common/state-manager.js"></script>
    <script src="./public/js/common/theme-manager.js"></script>
    <!-- 访问统计追踪器 -->
    <script src="./public/js/visit-tracker.js"></script>
    <!-- SPA 页面切换控制器 -->
    <script src="./public/js/spa-controller.js"></script>
</body>
</html>
